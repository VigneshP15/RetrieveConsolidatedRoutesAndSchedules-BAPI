<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	
	<sub-flow name="getroutes-implementationSub_Flow" doc:id="7f7dd3f7-b475-4b46-9d51-9528a7bbed77" >
		<choice doc:name="Choice" doc:id="88deeb59-c8a9-41bc-8fd1-19705424d96e" >
			<when expression='#[vars.transportCompany == "fastgo"]'>
				<set-variable value="#[&quot;/api/&quot; ++ vars.transportType ++ p('http.requester.fastgo.routepath')]" doc:name="Set Variable" doc:id="d4257583-ffa9-4b29-a4cd-806102f0e706" variableName="resourcePath-fastgo"/>
				<ee:cache doc:name="Cache" doc:id="d3ee671b-82be-4876-a2a0-1383e3b4e76d" cachingStrategy-ref="Caching_Strategy">
					<http:request method="GET" doc:name="Request" doc:id="c91331fb-e5ed-4e1c-a227-c9c53f9f04ab" config-ref="HTTP_Request_configuration-fastgo" path='#[vars."resourcePath-fastgo"]'>
					<http:headers><![CDATA[#[output application/java
---
{
	"transactionId" : vars.transactionId
}]]]></http:headers>
				</http:request>
				</ee:cache>
			</when>
			<when expression='vars.transportCompany == "travelOnTip"'>
				<set-variable value="#[&quot;/api/&quot; ++ vars.transportType ++ p('http.requester.travelontip.path')]" doc:name="Set Variable" doc:id="8a06613e-cfa9-4c61-a7ec-9a2af6a2cbfc" variableName="resourcepath-travelontip"/>
				<ee:cache doc:name="Cache" doc:id="c854966a-74fe-4405-8073-d1500540f8d0" cachingStrategy-ref="Caching_Strategy">
					<http:request method="PUT" doc:name="Request" doc:id="102e83a8-66df-4d70-b78f-3d23b980684a" config-ref="HTTP_Request_configuration-fastgo" path='#[vars."resourcePath-travelontip"]'>
					<http:headers><![CDATA[#[output application/java
---
{
	"transactionId" : vars.transactionId
}]]]></http:headers>
				</http:request>
				</ee:cache>
			</when>
		</choice>
	</sub-flow>
</mule>
